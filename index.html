<!DOCTYPE html>
<html lang="pl-PL">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
        <title>Oylyx</title>
        <script>
            var lista = ["telefon", "email", "adres", "miejscowosc", "imie", "cena", "opis", "tytul"]
            function stworz() {
                var bledy = 0;
                var x = document.getElementById("telefon").value;
                var y = /^([+]{1}[0-9]{2}[\s]{1})?[0-9]{3}([\s-]?[0-9]{3}){2}$/;
                if(!y.test(x))
                {
                    document.getElementById("telefon").value = "";
                }

                x = document.getElementById("email").value;
                y = /^.+\@.+\..+$/;
                if(!y.test(x))
                {
                    document.getElementById("email").value = "";
                }

                x = document.getElementById("cena").value;
                y = /^[0-9]+([,\.][0-9]{2})?\szł$/;
                if(!y.test(x))
                {
                    document.getElementById("cena").value = "";
                }

                x = document.getElementById("miejscowosc").value;
                y = /^[A-Za-zżźćńółęąśŻŹĆĄŚĘŁÓŃ\s]{2,35}$/;
                if(!y.test(x))
                {
                    document.getElementById("miejscowosc").value = "";
                }

                x = document.getElementById("adres").value;
                y = /^[A-Za-zżźćńółęąśŻŹĆĄŚĘŁÓŃ\s]{2,85}\s[0-9]{1,3}[A-Z]?$/;
                if(!y.test(x))
                {
                    document.getElementById("adres").value = "";
                }

                x = document.getElementById("imie").value;
                y = /^[A-Za-zżźćńółęąśŻŹĆĄŚĘŁÓŃ]{2,15}\s[A-Za-zżźćńółęąśŻŹĆĄŚĘŁÓŃ\-]{2,30}$/;
                if(!y.test(x))
                {
                    document.getElementById("imie").value = "";
                }

                for (let i = 0; i < lista.length; i++)
                {
                    x = document.getElementById(lista[i]);
                    if (x.value.length == 0)
                    {
                        x.className = "alertowy";
                        x.focus();
                        bledy++;
                    }
                    else x.className = "normalny";
                }

                if(bledy == 0)
                {
                    document.getElementById("formularz").style.display = "none";
                    document.getElementById("ogloszenie").style.display = "block";
                    document.getElementById("tytul2").innerHTML = document.getElementById("tytul").value;
                    document.getElementById("opis2").innerHTML = document.getElementById("opis").value;
                    document.getElementById("cena2").innerHTML = document.getElementById("cena").value;
                    if (document.getElementById("negocjacja").checked == true) document.getElementById("negocjacja2").innerHTML = "Do negocjacji";
                    document.getElementById("zdjecie2").src = document.getElementById("zdjecie").files[0].name;
                    document.getElementById("miejscowosc2").innerHTML = "Miejscowość: " + document.getElementById("miejscowosc").value;
                    document.getElementById("telefon2").innerHTML = "Kontakt: " + document.getElementById("telefon").value;
                }
            }
        </script>
    </head>
    <body>
        <center>
        <header>
            <h1>Oylyx</h1>
        </header>
        <form action="" method="POST">
            <table id="formularz">
                <tr>
                    <td>
                        <p>Tytuł: <input type="text" id="tytul" class="normalny" maxlength="22"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Zdjęcie: <input type="file" id="zdjecie"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Opis: <textarea id="opis" class="normalny" maxlength="200"></textarea></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>
                            Kategoria:
                            <select>
                                <option>Motoryzacja</option>
                                <option>Nieruchomości</option>
                                <option>Elektronika</option>
                                <option>Praca</option>
                                <option>Sport</option>
                                <option>Muzyka</option>
                                <option>Edukacja</option>
                                <option>Ubrania</option>
                                <option>Dom i ogród</option>
                                <option>Usługi</option>
                                <option selected>Inne</option>
                            </select>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Cena: <input type="text" id="cena" class="normalny"></p>
                        <input type="checkbox" id="negocjacja">
                        <label>Do negocjacji</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Imię i nazwisko: <input type="text" id="imie" class="normalny"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Miejscowość: <input type="text" id="miejscowosc" class="normalny"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Adres: <input type="text" id="adres" class="normalny"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>E-mail: <input type="text" id="email" class="normalny"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Numer telefonu: <input type="text" id="telefon" class="normalny"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="button" value="Stwórz ogłoszenie" onClick="stworz()">
                        <input type="reset" value="Wyczyść">
                    </td>
                </tr>
            </table>
            <table id="ogloszenie">
                <tr>
                    <td>
                        <h2 id="tytul2"></h2>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p id="cena2">zł</p>
                        <p id="negocjacja2"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <img id="zdjecie2">
                    </td>
                </tr>
                <tr>
                    <td>
                        <p id="opis2"></p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p id="miejscowosc2">Miejscowość: </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p id="telefon2">Kontakt: </p>
                    </td>
                </tr>
            </table>
        </form>
        </center>
    </body>
</html>